{"ast":null,"code":"import{createSlice}from'@reduxjs/toolkit';import axios from'axios';import{CLEAR_ERROR,CLEAR_SUCCESS,PRODUCTS_DETAILS_REQUEST,PRODUCTS_DETAILS_SUCCESS,PRODUCTS_DETAILS_FAILED,PRODUCT_CREATE_OR_UPDATE_REQUEST,PRODUCT_CREATE_OR_UPDATE_SUCCESS,PRODUCT_CREATE_OR_UPDATE_FAILED,PRODUCT_DETAILS_REQUEST,PRODUCT_DETAILS_SUCCESS,PRODUCT_DETAILS_FAILED}from'../type/product';const rootUrl='https://no-pain-hair-solution.vercel.app';export const productSlice=createSlice({name:'products',initialState:{success:false,message:'',loading:false,products:[],product:null,error:null},reducers:{productsDetailsRequest:state=>{state.loading=true;},productsDetailsSuccess:(state,action)=>{state.loading=false;state.success=true;state.message=action.payload.message;state.products=action.payload.products;},productsDetailsFailed:(state,action)=>{state.loading=false;state.message=action.payload;state.error=true;},productCreateOrUpdateRequest:state=>{state.loading=true;},productCreateOrUpdateSuccess:(state,action)=>{state.loading=false;state.success=true;state.message=action.payload.message;state.product=action.payload.product;state.products=action.payload.products;},productCreateOrUpdateFailed:(state,action)=>{state.loading=false;state.message=action.payload;state.error=true;},productDetailsRequest:state=>{state.loading=true;},productDetailsSuccess:(state,action)=>{state.loading=false;state.success=true;state.message=action.payload.message;state.product=action.payload.product;},productDetailsFailed:(state,action)=>{state.loading=false;state.message=action.payload;state.error=true;},clearSuccess:state=>{state.message='';state.error=false;},clearError:state=>{state.success=false;state.message='';}}});export const{productsDetailsRequest,productsDetailsSuccess,productsDetailsFailed,productCreateOrUpdateRequest,productCreateOrUpdateSuccess,productCreateOrUpdateFailed,productDetailsRequest,productDetailsSuccess,productDetailsFailed,clearSuccess,clearError}=productSlice.actions;// Thunk for fetching product details\nexport const fetchProductDetails=()=>async dispatch=>{try{dispatch(productsDetailsRequest());const url=\"\".concat(rootUrl,\"/api/app/productDetails\");const response=await axios.get(url);dispatch(productsDetailsSuccess(response.data));}catch(error){dispatch(productsDetailsFailed(error.response.data.message));}};// Thunk for fetching products details\nexport const fetchProductsDetails=()=>async dispatch=>{try{dispatch(productsDetailsRequest());const config={headers:{\"Content-Type\":\"application/json\",\"Access-Control-Allow-Origin\":rootUrl}};const url=\"\".concat(rootUrl,\"/api/app/productsDetails\");const response=await axios.get(url,config);dispatch(productsDetailsSuccess(response.data));// Clear success message after 5 seconds\nsetTimeout(()=>{dispatch(clearSuccess());},5000);}catch(error){dispatch(productsDetailsFailed(error.response.data.message));// Clear error message after 5 seconds\nsetTimeout(()=>{dispatch(clearError());},5000);}};// Thunk for creating or updating a product\nexport const createOrUpdateProduct=_ref=>{let{data,type,id}=_ref;return async dispatch=>{try{dispatch(productCreateOrUpdateRequest());const config={headers:{\"Content-Type\":\"application/json\",\"Access-Control-Allow-Origin\":rootUrl}};const url=type==='update'?\"\".concat(rootUrl,\"/api/app/productUpdate/\").concat(id):\"\".concat(rootUrl,\"/api/app/productCreate\");const method=type==='update'?'put':'post';const response=await axios[method](url,data,config);dispatch(productCreateOrUpdateSuccess(response.data));// Clear success message after 5 seconds\nsetTimeout(()=>{dispatch(clearSuccess());},5000);}catch(error){dispatch(productCreateOrUpdateFailed(error.response.data.message));// Clear error message after 5 seconds\nsetTimeout(()=>{dispatch(clearError());},5000);}};};export default productSlice.reducer;","map":{"version":3,"names":["createSlice","axios","CLEAR_ERROR","CLEAR_SUCCESS","PRODUCTS_DETAILS_REQUEST","PRODUCTS_DETAILS_SUCCESS","PRODUCTS_DETAILS_FAILED","PRODUCT_CREATE_OR_UPDATE_REQUEST","PRODUCT_CREATE_OR_UPDATE_SUCCESS","PRODUCT_CREATE_OR_UPDATE_FAILED","PRODUCT_DETAILS_REQUEST","PRODUCT_DETAILS_SUCCESS","PRODUCT_DETAILS_FAILED","rootUrl","productSlice","name","initialState","success","message","loading","products","product","error","reducers","productsDetailsRequest","state","productsDetailsSuccess","action","payload","productsDetailsFailed","productCreateOrUpdateRequest","productCreateOrUpdateSuccess","productCreateOrUpdateFailed","productDetailsRequest","productDetailsSuccess","productDetailsFailed","clearSuccess","clearError","actions","fetchProductDetails","dispatch","url","concat","response","get","data","fetchProductsDetails","config","headers","setTimeout","createOrUpdateProduct","_ref","type","id","method","reducer"],"sources":["C:/Users/pooja/Desktop/hair_solution/client/src/Redux/productSlice/productSlice.js"],"sourcesContent":["import { createSlice } from '@reduxjs/toolkit';\r\nimport axios from 'axios';\r\nimport {\r\n  CLEAR_ERROR,\r\n  CLEAR_SUCCESS,\r\n  PRODUCTS_DETAILS_REQUEST,\r\n  PRODUCTS_DETAILS_SUCCESS,\r\n  PRODUCTS_DETAILS_FAILED,\r\n  PRODUCT_CREATE_OR_UPDATE_REQUEST,\r\n  PRODUCT_CREATE_OR_UPDATE_SUCCESS,\r\n  PRODUCT_CREATE_OR_UPDATE_FAILED,\r\n  PRODUCT_DETAILS_REQUEST,\r\n  PRODUCT_DETAILS_SUCCESS,\r\n  PRODUCT_DETAILS_FAILED\r\n} from '../type/product';\r\n\r\nconst rootUrl = 'https://no-pain-hair-solution.vercel.app';\r\n\r\nexport const productSlice = createSlice({\r\n  name: 'products',\r\n  initialState: {\r\n    success: false,\r\n    message: '',\r\n    loading: false,\r\n    products: [],\r\n    product: null,\r\n    error: null\r\n  },\r\n  reducers: {\r\n    productsDetailsRequest: (state) => {\r\n      state.loading = true;\r\n    },\r\n    productsDetailsSuccess: (state, action) => {\r\n      state.loading = false;\r\n      state.success = true;\r\n      state.message = action.payload.message;\r\n      state.products = action.payload.products;\r\n    },\r\n    productsDetailsFailed: (state, action) => {\r\n      state.loading = false;\r\n      state.message = action.payload;\r\n      state.error = true;\r\n    },\r\n    productCreateOrUpdateRequest: (state) => {\r\n      state.loading = true;\r\n    },\r\n    productCreateOrUpdateSuccess: (state, action) => {\r\n      state.loading = false;\r\n      state.success = true;\r\n      state.message = action.payload.message;\r\n      state.product = action.payload.product;\r\n      state.products = action.payload.products;\r\n    },\r\n    productCreateOrUpdateFailed: (state, action) => {\r\n      state.loading = false;\r\n      state.message = action.payload;\r\n      state.error = true;\r\n    },\r\n    productDetailsRequest: (state) => {\r\n      state.loading = true;\r\n    },\r\n    productDetailsSuccess: (state, action) => {\r\n      state.loading = false;\r\n      state.success = true;\r\n      state.message = action.payload.message;\r\n      state.product = action.payload.product;\r\n    },\r\n    productDetailsFailed: (state, action) => {\r\n      state.loading = false;\r\n      state.message = action.payload;\r\n      state.error = true;\r\n    },\r\n    clearSuccess: (state) => {\r\n      state.message = '';\r\n      state.error = false;\r\n    },\r\n    clearError: (state) => {\r\n      state.success = false;\r\n      state.message = '';\r\n    },\r\n  },\r\n});\r\n\r\nexport const {\r\n  productsDetailsRequest,\r\n  productsDetailsSuccess,\r\n  productsDetailsFailed,\r\n  productCreateOrUpdateRequest,\r\n  productCreateOrUpdateSuccess,\r\n  productCreateOrUpdateFailed,\r\n  productDetailsRequest,\r\n  productDetailsSuccess,\r\n  productDetailsFailed,\r\n  clearSuccess,\r\n  clearError,\r\n} = productSlice.actions;\r\n\r\n// Thunk for fetching product details\r\nexport const fetchProductDetails = () => async (dispatch) => {\r\n  try {\r\n    dispatch(productsDetailsRequest());\r\n\r\n    const url = `${rootUrl}/api/app/productDetails`;\r\n    const response = await axios.get(url);\r\n\r\n    dispatch(productsDetailsSuccess(response.data));\r\n  } catch (error) {\r\n    dispatch(productsDetailsFailed(error.response.data.message));\r\n  }\r\n};\r\n\r\n// Thunk for fetching products details\r\nexport const fetchProductsDetails = () => async (dispatch) => {\r\n  try {\r\n    dispatch(productsDetailsRequest());\r\n\r\n    const config = {\r\n        headers : {\r\n            \"Content-Type\" : \"application/json\",\r\n            \"Access-Control-Allow-Origin\" : rootUrl\r\n        }\r\n    }\r\n\r\n    const url = `${rootUrl}/api/app/productsDetails`;\r\n    const response = await axios.get(url, config);\r\n\r\n    dispatch(productsDetailsSuccess(response.data));\r\n\r\n    // Clear success message after 5 seconds\r\n    setTimeout(() => {\r\n      dispatch(clearSuccess());\r\n    }, 5000);\r\n  } catch (error) {\r\n    dispatch(productsDetailsFailed(error.response.data.message));\r\n\r\n    // Clear error message after 5 seconds\r\n    setTimeout(() => {\r\n      dispatch(clearError());\r\n    }, 5000);\r\n  }\r\n};\r\n\r\n// Thunk for creating or updating a product\r\nexport const createOrUpdateProduct = ({ data, type, id }) => async (dispatch) => {\r\n  try {\r\n    dispatch(productCreateOrUpdateRequest());\r\n\r\n    const config = {\r\n        headers : {\r\n            \"Content-Type\" : \"application/json\",\r\n            \"Access-Control-Allow-Origin\" : rootUrl\r\n        }\r\n    }\r\n\r\n    const url =\r\n      type === 'update'\r\n        ? `${rootUrl}/api/app/productUpdate/${id}`\r\n        : `${rootUrl}/api/app/productCreate`;\r\n\r\n    const method = type === 'update' ? 'put' : 'post';\r\n    const response = await axios[method](url, data, config);\r\n\r\n    dispatch(productCreateOrUpdateSuccess(response.data));\r\n\r\n    // Clear success message after 5 seconds\r\n    setTimeout(() => {\r\n      dispatch(clearSuccess());\r\n    }, 5000);\r\n  } catch (error) {\r\n    dispatch(productCreateOrUpdateFailed(error.response.data.message));\r\n\r\n    // Clear error message after 5 seconds\r\n    setTimeout(() => {\r\n      dispatch(clearError());\r\n    }, 5000);\r\n  }\r\n};\r\n\r\nexport default productSlice.reducer;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}