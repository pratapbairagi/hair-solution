{"ast":null,"code":"import { createSlice } from '@reduxjs/toolkit';\nimport axios from 'axios';\nimport { CLEAR_ERROR, CLEAR_SUCCESS, PRODUCTS_DETAILS_REQUEST, PRODUCTS_DETAILS_SUCCESS, PRODUCTS_DETAILS_FAILED, PRODUCT_CREATE_OR_UPDATE_REQUEST, PRODUCT_CREATE_OR_UPDATE_SUCCESS, PRODUCT_CREATE_OR_UPDATE_FAILED, PRODUCT_DETAILS_REQUEST, PRODUCT_DETAILS_SUCCESS, PRODUCT_DETAILS_FAILED } from '../type/product';\nconst rootUrl = 'https://no-pain-hair-solution.vercel.app';\nexport const productSlice = createSlice({\n  name: 'products',\n  initialState: {\n    success: false,\n    message: '',\n    loading: false,\n    products: [],\n    product: null,\n    error: null\n  },\n  reducers: {\n    productsDetailsRequest: state => {\n      state.loading = true;\n    },\n    productsDetailsSuccess: (state, action) => {\n      state.loading = false;\n      state.success = true;\n      state.message = action.payload.message;\n      state.products = action.payload.products;\n    },\n    productsDetailsFailed: (state, action) => {\n      state.loading = false;\n      state.message = action.payload;\n      state.error = true;\n    },\n    productCreateOrUpdateRequest: state => {\n      state.loading = true;\n    },\n    productCreateOrUpdateSuccess: (state, action) => {\n      state.loading = false;\n      state.success = true;\n      state.message = action.payload.message;\n      state.product = action.payload.product;\n      state.products = action.payload.products;\n    },\n    productCreateOrUpdateFailed: (state, action) => {\n      state.loading = false;\n      state.message = action.payload;\n      state.error = true;\n    },\n    productDetailsRequest: state => {\n      state.loading = true;\n    },\n    productDetailsSuccess: (state, action) => {\n      state.loading = false;\n      state.success = true;\n      state.message = action.payload.message;\n      state.product = action.payload.product;\n    },\n    productDetailsFailed: (state, action) => {\n      state.loading = false;\n      state.message = action.payload;\n      state.error = true;\n    },\n    clearSuccess: state => {\n      state.message = '';\n      state.error = false;\n    },\n    clearError: state => {\n      state.success = false;\n      state.message = '';\n    }\n  }\n});\nexport const {\n  productsDetailsRequest,\n  productsDetailsSuccess,\n  productsDetailsFailed,\n  productCreateOrUpdateRequest,\n  productCreateOrUpdateSuccess,\n  productCreateOrUpdateFailed,\n  productDetailsRequest,\n  productDetailsSuccess,\n  productDetailsFailed,\n  clearSuccess,\n  clearError\n} = productSlice.actions;\n\n// Thunk for fetching product details\nexport const fetchProductDetails = () => async dispatch => {\n  try {\n    dispatch(productsDetailsRequest());\n    const url = `${rootUrl}/api/app/productDetails`;\n    const response = await axios.get(url);\n    dispatch(productsDetailsSuccess(response.data));\n  } catch (error) {\n    dispatch(productsDetailsFailed(error.response.data.message));\n  }\n};\n\n// Thunk for fetching products details\nexport const fetchProductsDetails = () => async dispatch => {\n  try {\n    dispatch(productsDetailsRequest());\n    const config = {\n      headers: {\n        \"Content-Type\": \"application/json\",\n        \"Access-Control-Allow-Origin\": rootUrl\n      }\n    };\n    const url = `${rootUrl}/api/app/productsDetails`;\n    const response = await axios.get(url);\n    dispatch(productsDetailsSuccess(response.data));\n\n    // Clear success message after 5 seconds\n    setTimeout(() => {\n      dispatch(clearSuccess());\n    }, 5000);\n  } catch (error) {\n    dispatch(productsDetailsFailed(error.response.data.message));\n\n    // Clear error message after 5 seconds\n    setTimeout(() => {\n      dispatch(clearError());\n    }, 5000);\n  }\n};\n\n// Thunk for creating or updating a product\nexport const createOrUpdateProduct = ({\n  data,\n  type,\n  id\n}) => async dispatch => {\n  try {\n    dispatch(productCreateOrUpdateRequest());\n    const url = type === 'update' ? `${rootUrl}/api/app/productUpdate/${id}` : `${rootUrl}/api/app/productCreate`;\n    const method = type === 'update' ? 'put' : 'post';\n    const response = await axios[method](url, data);\n    dispatch(productCreateOrUpdateSuccess(response.data));\n\n    // Clear success message after 5 seconds\n    setTimeout(() => {\n      dispatch(clearSuccess());\n    }, 5000);\n  } catch (error) {\n    dispatch(productCreateOrUpdateFailed(error.response.data.message));\n\n    // Clear error message after 5 seconds\n    setTimeout(() => {\n      dispatch(clearError());\n    }, 5000);\n  }\n};\nexport default productSlice.reducer;","map":{"version":3,"names":["createSlice","axios","CLEAR_ERROR","CLEAR_SUCCESS","PRODUCTS_DETAILS_REQUEST","PRODUCTS_DETAILS_SUCCESS","PRODUCTS_DETAILS_FAILED","PRODUCT_CREATE_OR_UPDATE_REQUEST","PRODUCT_CREATE_OR_UPDATE_SUCCESS","PRODUCT_CREATE_OR_UPDATE_FAILED","PRODUCT_DETAILS_REQUEST","PRODUCT_DETAILS_SUCCESS","PRODUCT_DETAILS_FAILED","rootUrl","productSlice","name","initialState","success","message","loading","products","product","error","reducers","productsDetailsRequest","state","productsDetailsSuccess","action","payload","productsDetailsFailed","productCreateOrUpdateRequest","productCreateOrUpdateSuccess","productCreateOrUpdateFailed","productDetailsRequest","productDetailsSuccess","productDetailsFailed","clearSuccess","clearError","actions","fetchProductDetails","dispatch","url","response","get","data","fetchProductsDetails","config","headers","setTimeout","createOrUpdateProduct","type","id","method","reducer"],"sources":["C:/Users/pooja/Desktop/hair_solution/client/src/Redux/productSlice/productSlice.js"],"sourcesContent":["import { createSlice } from '@reduxjs/toolkit';\r\nimport axios from 'axios';\r\nimport {\r\n  CLEAR_ERROR,\r\n  CLEAR_SUCCESS,\r\n  PRODUCTS_DETAILS_REQUEST,\r\n  PRODUCTS_DETAILS_SUCCESS,\r\n  PRODUCTS_DETAILS_FAILED,\r\n  PRODUCT_CREATE_OR_UPDATE_REQUEST,\r\n  PRODUCT_CREATE_OR_UPDATE_SUCCESS,\r\n  PRODUCT_CREATE_OR_UPDATE_FAILED,\r\n  PRODUCT_DETAILS_REQUEST,\r\n  PRODUCT_DETAILS_SUCCESS,\r\n  PRODUCT_DETAILS_FAILED\r\n} from '../type/product';\r\n\r\nconst rootUrl = 'https://no-pain-hair-solution.vercel.app';\r\n\r\nexport const productSlice = createSlice({\r\n  name: 'products',\r\n  initialState: {\r\n    success: false,\r\n    message: '',\r\n    loading: false,\r\n    products: [],\r\n    product: null,\r\n    error: null\r\n  },\r\n  reducers: {\r\n    productsDetailsRequest: (state) => {\r\n      state.loading = true;\r\n    },\r\n    productsDetailsSuccess: (state, action) => {\r\n      state.loading = false;\r\n      state.success = true;\r\n      state.message = action.payload.message;\r\n      state.products = action.payload.products;\r\n    },\r\n    productsDetailsFailed: (state, action) => {\r\n      state.loading = false;\r\n      state.message = action.payload;\r\n      state.error = true;\r\n    },\r\n    productCreateOrUpdateRequest: (state) => {\r\n      state.loading = true;\r\n    },\r\n    productCreateOrUpdateSuccess: (state, action) => {\r\n      state.loading = false;\r\n      state.success = true;\r\n      state.message = action.payload.message;\r\n      state.product = action.payload.product;\r\n      state.products = action.payload.products;\r\n    },\r\n    productCreateOrUpdateFailed: (state, action) => {\r\n      state.loading = false;\r\n      state.message = action.payload;\r\n      state.error = true;\r\n    },\r\n    productDetailsRequest: (state) => {\r\n      state.loading = true;\r\n    },\r\n    productDetailsSuccess: (state, action) => {\r\n      state.loading = false;\r\n      state.success = true;\r\n      state.message = action.payload.message;\r\n      state.product = action.payload.product;\r\n    },\r\n    productDetailsFailed: (state, action) => {\r\n      state.loading = false;\r\n      state.message = action.payload;\r\n      state.error = true;\r\n    },\r\n    clearSuccess: (state) => {\r\n      state.message = '';\r\n      state.error = false;\r\n    },\r\n    clearError: (state) => {\r\n      state.success = false;\r\n      state.message = '';\r\n    },\r\n  },\r\n});\r\n\r\nexport const {\r\n  productsDetailsRequest,\r\n  productsDetailsSuccess,\r\n  productsDetailsFailed,\r\n  productCreateOrUpdateRequest,\r\n  productCreateOrUpdateSuccess,\r\n  productCreateOrUpdateFailed,\r\n  productDetailsRequest,\r\n  productDetailsSuccess,\r\n  productDetailsFailed,\r\n  clearSuccess,\r\n  clearError,\r\n} = productSlice.actions;\r\n\r\n// Thunk for fetching product details\r\nexport const fetchProductDetails = () => async (dispatch) => {\r\n  try {\r\n    dispatch(productsDetailsRequest());\r\n\r\n    const url = `${rootUrl}/api/app/productDetails`;\r\n    const response = await axios.get(url);\r\n\r\n    dispatch(productsDetailsSuccess(response.data));\r\n  } catch (error) {\r\n    dispatch(productsDetailsFailed(error.response.data.message));\r\n  }\r\n};\r\n\r\n// Thunk for fetching products details\r\nexport const fetchProductsDetails = () => async (dispatch) => {\r\n  try {\r\n    dispatch(productsDetailsRequest());\r\n\r\n    const config = {\r\n        headers : {\r\n            \"Content-Type\" : \"application/json\",\r\n            \"Access-Control-Allow-Origin\" : rootUrl\r\n        }\r\n    }\r\n\r\n    const url = `${rootUrl}/api/app/productsDetails`;\r\n    const response = await axios.get(url);\r\n\r\n    dispatch(productsDetailsSuccess(response.data));\r\n\r\n    // Clear success message after 5 seconds\r\n    setTimeout(() => {\r\n      dispatch(clearSuccess());\r\n    }, 5000);\r\n  } catch (error) {\r\n    dispatch(productsDetailsFailed(error.response.data.message));\r\n\r\n    // Clear error message after 5 seconds\r\n    setTimeout(() => {\r\n      dispatch(clearError());\r\n    }, 5000);\r\n  }\r\n};\r\n\r\n// Thunk for creating or updating a product\r\nexport const createOrUpdateProduct = ({ data, type, id }) => async (dispatch) => {\r\n  try {\r\n    dispatch(productCreateOrUpdateRequest());\r\n\r\n    const url =\r\n      type === 'update'\r\n        ? `${rootUrl}/api/app/productUpdate/${id}`\r\n        : `${rootUrl}/api/app/productCreate`;\r\n\r\n    const method = type === 'update' ? 'put' : 'post';\r\n    const response = await axios[method](url, data);\r\n\r\n    dispatch(productCreateOrUpdateSuccess(response.data));\r\n\r\n    // Clear success message after 5 seconds\r\n    setTimeout(() => {\r\n      dispatch(clearSuccess());\r\n    }, 5000);\r\n  } catch (error) {\r\n    dispatch(productCreateOrUpdateFailed(error.response.data.message));\r\n\r\n    // Clear error message after 5 seconds\r\n    setTimeout(() => {\r\n      dispatch(clearError());\r\n    }, 5000);\r\n  }\r\n};\r\n\r\nexport default productSlice.reducer;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}